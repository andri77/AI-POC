"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.HeartbeatMonitorCodegen = void 0;
const codegen_1 = require("./internal/codegen");
const sourcegen_1 = require("../sourcegen");
const monitor_codegen_1 = require("./monitor-codegen");
class HeartbeatMonitorCodegen extends codegen_1.Codegen {
    describe(resource) {
        return `Heartbeat Monitor: ${resource.name}`;
    }
    gencode(logicalId, resource, context) {
        const filePath = context.filePath('resources/heartbeat-monitors', resource.name, {
            tags: resource.tags,
            unique: true,
        });
        const file = this.program.generatedConstructFile(filePath.fullPath);
        file.namedImport('HeartbeatMonitor', 'checkly/constructs');
        file.section((0, sourcegen_1.expr)((0, sourcegen_1.ident)('HeartbeatMonitor'), builder => {
            builder.new(builder => {
                builder.string(logicalId);
                builder.object(builder => {
                    builder.number('period', resource.heartbeat.period);
                    builder.string('periodUnit', resource.heartbeat.periodUnit);
                    builder.number('grace', resource.heartbeat.grace);
                    builder.string('graceUnit', resource.heartbeat.graceUnit);
                    (0, monitor_codegen_1.buildMonitorProps)(this.program, file, builder, resource, context);
                });
            });
        }));
    }
}
exports.HeartbeatMonitorCodegen = HeartbeatMonitorCodegen;
//# sourceMappingURL=heartbeat-monitor-codegen.js.map